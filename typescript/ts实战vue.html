<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue2项目typescript实战 | JI</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="学习笔记">
    
    <link rel="preload" href="/JiBlob/assets/css/0.styles.ba75ba46.css" as="style"><link rel="preload" href="/JiBlob/assets/js/app.89afa139.js" as="script"><link rel="preload" href="/JiBlob/assets/js/2.013354e0.js" as="script"><link rel="preload" href="/JiBlob/assets/js/6.d6440e3f.js" as="script"><link rel="prefetch" href="/JiBlob/assets/js/10.b3abf599.js"><link rel="prefetch" href="/JiBlob/assets/js/11.18bdb04f.js"><link rel="prefetch" href="/JiBlob/assets/js/12.959698eb.js"><link rel="prefetch" href="/JiBlob/assets/js/13.b71def65.js"><link rel="prefetch" href="/JiBlob/assets/js/14.679ec2b6.js"><link rel="prefetch" href="/JiBlob/assets/js/15.a31b6fb2.js"><link rel="prefetch" href="/JiBlob/assets/js/16.2f1293fa.js"><link rel="prefetch" href="/JiBlob/assets/js/17.db35b3a3.js"><link rel="prefetch" href="/JiBlob/assets/js/3.98b01086.js"><link rel="prefetch" href="/JiBlob/assets/js/4.731492b9.js"><link rel="prefetch" href="/JiBlob/assets/js/5.ba9bd5fc.js"><link rel="prefetch" href="/JiBlob/assets/js/7.691542c1.js"><link rel="prefetch" href="/JiBlob/assets/js/8.2b7206b8.js"><link rel="prefetch" href="/JiBlob/assets/js/9.a1dfc435.js">
    <link rel="stylesheet" href="/JiBlob/assets/css/0.styles.ba75ba46.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JiBlob/" class="home-link router-link-active"><!----> <span class="site-name">JI</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JiBlob/" class="nav-link">
  主页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JiBlob/" class="nav-link">
  主页
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/JiBlob/typescript/" class="sidebar-heading clickable router-link-active open"><span>typescript</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JiBlob/typescript/ts实战vue.html" class="active sidebar-link">Vue2项目typescript实战</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JiBlob/typescript/ts实战vue.html#预热知识" class="sidebar-link">预热知识</a></li></ul></li><li><a href="/JiBlob/typescript/vue2ts实际案例.html" class="sidebar-link">vue2ts实际案例</a></li><li><a href="/JiBlob/typescript/tsbase.html" class="sidebar-link">typescript基本知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JiBlob/typescript/tsbase.html#基础类型" class="sidebar-link">基础类型</a></li><li class="sidebar-sub-header"><a href="/JiBlob/typescript/tsbase.html#接口" class="sidebar-link">接口</a></li><li class="sidebar-sub-header"><a href="/JiBlob/typescript/tsbase.html#泛型" class="sidebar-link">泛型</a></li><li class="sidebar-sub-header"><a href="/JiBlob/typescript/tsbase.html#枚举-2" class="sidebar-link">枚举</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/JiBlob/vueseries/" class="sidebar-heading clickable"><span>vue系列</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JiBlob/vueseries/vue3.html" class="sidebar-link">vue3</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/JiBlob/node/" class="sidebar-heading clickable"><span>node</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JiBlob/node/node01.html" class="sidebar-link">node 01</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JiBlob/node/node01.html#node-01" class="sidebar-link">node 01</a></li><li class="sidebar-sub-header"><a href="/JiBlob/node/node01.html#node-02" class="sidebar-link">node 02</a></li><li class="sidebar-sub-header"><a href="/JiBlob/node/node01.html#node-03" class="sidebar-link">node 03</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue2项目typescript实战"><a href="#vue2项目typescript实战" class="header-anchor">#</a> Vue2项目typescript实战</h1> <h2 id="预热知识"><a href="#预热知识" class="header-anchor">#</a> 预热知识</h2> <ol><li>tsconfig.json文件</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span><span class="token comment">/* target用于指定编译之后的版本目标: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019' or 'ESNEXT'. */</span>
    <span class="token string">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span><span class="token comment">/* 用来指定要使用的模块标准: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */</span>
    <span class="token string">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">/* strict的值为true或false，用于指定是否启动所有类型检查，如果设为true则会同时开启下面这几个严格类型检查，默认为false */</span>
    <span class="token string">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span><span class="token comment">/* 指定jsx代码用于的开发环境: 'preserve', 'react-native', or 'react'. */</span>
    <span class="token string">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">/* importHelpers的值为true或false，指定是否引入tslib里的辅助工具函数，默认为false */</span>
    <span class="token string">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span><span class="token comment">/* 用于选择模块解析策略，有'node'和'classic'两种类型' */</span>
    <span class="token string">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">/* 用于指定是否启用实验性的装饰器特性 */</span>
    <span class="token string">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">/* 通过为导入内容创建命名空间，实现CommonJS和ES模块之间的互操作性 */</span>
    <span class="token string">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">/* 用来指定允许从没有默认导出的模块中默认导入 */</span>
    <span class="token string">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">/* sourceMap的值为true或false，用来指定编译时是否生成.map文件 */</span>
    <span class="token string">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span><span class="token comment">/* baseUrl用于设置解析非相对模块名称的基本目录，相对模块不会受baseUrl的影响 */</span>
    <span class="token string">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">/* types用来指定需要包含的模块，只有在这里列出的模块的声明文件才会被加载进来 */</span>
      <span class="token string">&quot;webpack-env&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* 用于设置模块名称到基于baseUrl的路径映射 */</span>
      <span class="token string">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;src/*&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">/* lib用于指定要包含在编译中的库文件 */</span>
      <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom.iterable&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;scripthost&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">//include也可以指定要编译的路径列表，但是和files的区别在于，这里的路径可以是文件夹，也可以是文件，可以使用相对和绝对路径，而且可以使用通配符，比如&quot;./src&quot;即表示要编译src文件夹下的所有文件以及子文件夹的文件</span>
    <span class="token string">&quot;src/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.tsx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.vue&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tests/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tests/**/*.tsx&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">// exclude表示要排除的、不编译的文件，它也可以指定一个列表，规则和include一样，可以是文件或文件夹，可以是相对路径或绝对路径，可以使用通配符</span>
    <span class="token string">&quot;node_modules&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>vue-property-decorator 与 vue-class-component 有什么区别？</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>vue<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>component 是vue 官方出的
强化 Vue 组件，使用 TypeScript<span class="token operator">/</span>装饰器 增强 Vue 组件；
vue<span class="token operator">-</span>property<span class="token operator">-</span>decorator 是社区出的
其中vue<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>component 提供了 vue component 等等
vue<span class="token operator">-</span>property<span class="token operator">-</span>decorator 深度依赖了 vue<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>component 
拓展出了很多操作符 @Prop @Emit @Inject 等等 
可以说是 vue<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>component 的一个超集
正常开发的时候 你只需要使用 vue<span class="token operator">-</span>property<span class="token operator">-</span>decorator 中提供的操作符即可 
不用再从vue<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>componen 引入vue component
</code></pre></div><ol start="3"><li>vue 文件中 TS 上下文顺序</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">-</span> data
<span class="token operator">-</span> @Prop
<span class="token operator">-</span> @State
<span class="token operator">-</span> @Getter
<span class="token operator">-</span> @Action
<span class="token operator">-</span> @Mutation
<span class="token operator">-</span> @Watch
<span class="token operator">-</span> 生命周期钩子
    <span class="token operator">-</span> beforeCreate（按照生命周期钩子从上到下）
    <span class="token operator">-</span> created
    <span class="token operator">-</span> beforeMount
    <span class="token operator">-</span> mounted
    <span class="token operator">-</span> beforeUpdate
    <span class="token operator">-</span> updated
    <span class="token operator">-</span> activated
    <span class="token operator">-</span> deactivated
    <span class="token operator">-</span> beforeDestroy
    <span class="token operator">-</span> destroyed
    <span class="token operator">-</span> errorCaptured（最后一个生命周期钩子）
<span class="token operator">-</span> 路由钩子
    <span class="token operator">-</span> beforeRouteEnter
    <span class="token operator">-</span> beforeRouteUpdate
    <span class="token operator">-</span> beforeRouteLeave
<span class="token operator">-</span> computed
<span class="token operator">-</span> methods
<span class="token operator">-</span> 组件引用，mixins，filters 等放在 @Component 里面
</code></pre></div><ol start="4"><li>工程目录结构(供参考)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>src：项目源码。开发的时候代码写在这里。
 <span class="token operator">|</span><span class="token operator">--</span>api # 服务层ajax请求服务
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>index # api数据入口文件
 <span class="token operator">|</span><span class="token operator">--</span>assets # 项目静态资源
 <span class="token operator">|</span><span class="token operator">--</span>axios # axios封装请求<span class="token comment">//拦截配置</span>
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>config<span class="token punctuation">.</span>ts # axios拦截器配置文件
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>service<span class="token punctuation">.</span>ts # axios请求配置文件
 <span class="token operator">|</span><span class="token operator">--</span>components # 项目公共组件库
 <span class="token operator">|</span><span class="token operator">--</span>router # 项目路由
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>index<span class="token punctuation">.</span>ts # 入口及路由初始化
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>filterRouter # 页面路由文件
 <span class="token operator">|</span><span class="token operator">--</span>store # 基于Vuex的状态管理模块
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>index<span class="token punctuation">.</span>ts # 入口及store初始化
 <span class="token operator">|</span>    <span class="token operator">|</span><span class="token operator">--</span>modules # 子模块的store对象
 <span class="token operator">|</span><span class="token operator">--</span>utils # 公共库函数
 <span class="token operator">|</span><span class="token operator">--</span>views # 项目应用页面，根据应用需要，还可以有子页面，各子页面目录结构和顶级子页面类似
 <span class="token operator">|</span><span class="token operator">--</span>App<span class="token punctuation">.</span>vue # 项目根视图
 <span class="token operator">|</span><span class="token operator">--</span>main<span class="token punctuation">.</span>ts # 项目入口文件

</code></pre></div><ol start="5"><li>ts中使用elementui插件，这个使用方法和普通项目引入方法一样，
如果是按需引入的方式。如图：
<img src="/JiBlob/assets/img/ele-anxu.23c04b5f.png" alt="An image"> <img src="/JiBlob/assets/img/ele-yinru.97aa7ab7.png" alt="An image">
注： 这个文件也可以是element.ts，用法和上述图片一样</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/22/2021, 9:45:43 AM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/JiBlob/typescript/vue2ts实际案例.html">
        vue2ts实际案例
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/JiBlob/assets/js/app.89afa139.js" defer></script><script src="/JiBlob/assets/js/2.013354e0.js" defer></script><script src="/JiBlob/assets/js/6.d6440e3f.js" defer></script>
  </body>
</html>
